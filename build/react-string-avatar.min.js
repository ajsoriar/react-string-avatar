import React from 'react';import PropTypes from 'prop-types';class StringAvatar extends React.Component{static displayName='StringAvatar';_renderImage(){var _long=45,_picture_resolution=256,_wrapper=!0,_str="",_bgcolor="#000",_textcolor="#fff",_pixelated=!1,_img_styling="vertical-align:top;",_roundShape=!1,_wrapper_styling="border-radius:0; display:block; overflow:hidden;",_extra_classes="",_extra_img_classes="",_extra_styles="",_corner_radius="0",_picture_format="png",_colors_palette=["#bdc3c7","#6f7b87","#2c3e50","#2f3193","#662d91","#922790","#ec2176","#ed1c24","#f36622","#f8941e","#fab70f","#fdde00","#d1d219","#8ec73f","#00a650","#00aa9c","#00adef","#0081cd","#005bab"],_autoColor=!1,_font_weight=100,_font_scale=100,_text_shadow=!1,_bind=!1,_img_width="100%",_upperCase=!1;function generateAvatar(name,w,h,bgColor,textcolor,bgImage){var WIDTH=256,HEIGHT=256,canvas,ctx,font_size;console.log("w:",w);console.log("h:",h);console.log("name:",name);if(w!=undefined&&w>0){if(h!=undefined&&h>0){WIDTH=w;HEIGHT=h}}
canvas=document.createElement('canvas');canvas.id="ngAvatar-"+Date.now();canvas.width=WIDTH;canvas.height=HEIGHT;ctx=canvas.getContext('2d');ctx.fillStyle=bgColor;ctx.fillRect(0,0,WIDTH,HEIGHT);var _default={fontWeight:100,fontScale:100,pictureFormat:"png"};var str=getInitialsFromString(name);console.log("str:",str);font_size=WIDTH/(2/(_default.fontScale/100));console.log("font_size:",font_size);ctx.font=_default.fontWeight+" "+font_size+"px sans-serif";if(_default.textShadow===!0){ctx.shadowColor="black";ctx.shadowOffsetX=0;ctx.shadowOffsetY=0;ctx.shadowBlur=5}
ctx.textAlign="center";ctx.fillStyle="#fff";ctx.fillText(str,WIDTH/2,HEIGHT-(HEIGHT/2)+(font_size/3));return canvas.toDataURL("image/"+_default.pictureFormat)}
function getInitialsFromString(str){console.log("str:",str);if(!str)return""
var output="",i=0,str=str.split(" "),len=str.length;for(i;i<len;i++)if(str[i]!="")output+=str[i][0];return output}
const size=50;const imageStyle={maxWidth:'100%',width:size,height:size};console.log("this.props:",this.props);var textString=this.props.str||this.props.initials;var imgData=generateAvatar(textString,this.props.pictureResolution,this.props.pictureResolution,this.props.bgColor,this.props.textcolor,null);console.log("A");return(<img src={imgData}style={this.props.imgStyling}width={this.props.width}height=""/>)}
render(){const{initials}=this.props;var text=this._renderImage(initials);return(<div className="ajsr-avatar">{text}</div>)}}
StringAvatar.propTypes={initials:PropTypes.string,wrapper:PropTypes.bool,bgColor:PropTypes.string,textColor:PropTypes.string,pictureResolution:PropTypes.number,width:PropTypes.number,pixelated:PropTypes.bool,roundShape:PropTypes.bool,cornerRadius:PropTypes.string,pictureFormat:PropTypes.string,colorsPalette:PropTypes.array,autoColor:PropTypes.bool,fontWeight:PropTypes.number,fontScale:PropTypes.number,textShadow:PropTypes.bool,bind:PropTypes.bool,upperCase:PropTypes.bool,};StringAvatar.defaultProps={initials:null,wrapper:!0,bgColor:"#000",textcolor:"#fff",pictureResolution:50,width:60,pixelated:!1,roundShape:!1,cornerRadius:"0",pictureFormat:"png",colorsPalette:["#bdc3c7","#6f7b87","#2c3e50","#2f3193","#662d91","#922790","#ec2176","#ed1c24","#f36622","#f8941e","#fab70f","#fdde00","#d1d219","#8ec73f","#00a650","#00aa9c","#00adef","#0081cd","#005bab"],autoColor:!1,fontWeight:100,fontScale:100,textShadow:!1,bind:!1,upperCase:!1,};export default StringAvatar