/**
 * react-string-avatar
 * React String Avatar is a simple React component that generates a letter's avatar like Microsoft or Google do in their web apps. First letter of each word in a string or a group of initials will be used to generate the avatar. The image of the avatar will be rendered in an html img tag as a real png or jpeg. The image data can be retrieved using javascript to be stored in back-end giving you an initial profile picture in your web or mobile apps when the user does not upload one. Several React props are available to configure the output: size, shape, resolution, colors, etc.
 * @version v0.0.4 - 2018-08-07
 * @link https://github.com/ajsoriar/react-string-avatar
 * @author Andres J. Soria R. <ajsoriar@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var StringAvatar=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,_react2.default.Component),_createClass(t,[{key:"_renderImage",value:function(){var e="",t="#000",r={verticalAlign:"top"},o="border-radius:0; display:block; overflow:hidden;",p=0,a=["#bdc3c7","#6f7b87","#2c3e50","#2f3193","#662d91","#922790","#ec2176","#ed1c24","#f36622","#f8941e","#fab70f","#fdde00","#d1d219","#8ec73f","#00a650","#00aa9c","#00adef","#0081cd","#005bab"];if(null!=this.props.initials&&(e=this.props.initials),null!=this.props.string&&(e=function(e){if(!e)return"";for(var t="",r=0,o=(e=e.split(" ")).length;r<o;r++)""!=e[r]&&(t+=e[r][0]);return t}(this.props.string)),null!=this.props.bgColor)t=this.props.bgColor;else if(null!=this.props.autoColor&&!0===this.props.autoColor){var i,n=e.length,l=0;for(i=0;i<n;i++)l=e.charCodeAt(i);t=a[l%a.length]}var s,u,d,f,c,h,b,y,_,g,w=(s=e,u=this.props.pictureResolution,d=this.props.pictureResolution,f=t,c=this.props,_=256,g=256,null!=u&&u>0&&null!=d&&d>0&&(_=u,g=d),(h=document.createElement("canvas")).id="ngAvatar-"+Date.now(),h.width=_,h.height=g,(b=h.getContext("2d")).fillStyle=f,b.fillRect(0,0,_,g),y=_/(2/(c.fontScale/100)),b.font=c.fontWeight+" "+y+"px sans-serif",!0===c.textShadow&&(b.shadowColor="black",b.shadowOffsetX=0,b.shadowOffsetY=0,b.shadowBlur=5),b.textAlign="center",b.fillStyle=c.textColor,b.fillText(s,_/2,g-g/2+y/3),h.toDataURL("image/"+c.pictureFormat));r=_defineProperty({imageRendering:"pixelated"},"imageRendering","-moz-crisp-edges");!0===this.props.pixelated&&(r.imageRendering="pixelated");o={overflow:"hidden",width:this.props.width+"px",height:this.props.width+"px",boxSizing:"unset"};null!=this.props.roundShape?this.props.roundShape&&(o.borderRadius=this.props.width+"px"):null!=this.props.cornerRadius&&(p=this.props.cornerRadius,o.borderRadius=p+"px"),o=Object.assign({},this.props.wrapperStyle,o);var m=_react2.default.createElement("img",{src:w,style:r,width:this.props.width,height:""});return this.props.wrapper?_react2.default.createElement("div",{className:"avatar-wrapper ",style:o},m):m}},{key:"render",value:function(){return this._renderImage()}}]),t}();StringAvatar.propTypes={initials:_propTypes2.default.string,wrapper:_propTypes2.default.bool,bgColor:_propTypes2.default.string,textColor:_propTypes2.default.string,pictureResolution:_propTypes2.default.number,width:_propTypes2.default.number,pixelated:_propTypes2.default.bool,roundShape:_propTypes2.default.bool,defaultWrapperStyling:_propTypes2.default.object,wrapperStyle:_propTypes2.default.object,string:_propTypes2.default.string,cornerRadius:_propTypes2.default.number,pictureFormat:_propTypes2.default.string,colorsPalette:_propTypes2.default.array,autoColor:_propTypes2.default.bool,fontWeight:_propTypes2.default.number,fontScale:_propTypes2.default.number,textShadow:_propTypes2.default.bool,bind:_propTypes2.default.bool,upperCase:_propTypes2.default.bool},StringAvatar.defaultProps={initials:null,wrapper:!0,bgColor:"#000",textColor:"#fff",pictureResolution:50,width:60,pixelated:!1,roundShape:!1,defaultWrapperStyling:{borderRadius:0,display:"block",overflow:"hidden"},wrapperStyle:{},string:null,cornerRadius:0,pictureFormat:"png",colorsPalette:["#bdc3c7","#6f7b87","#2c3e50","#2f3193","#662d91","#922790","#ec2176","#ed1c24","#f36622","#f8941e","#fab70f","#fdde00","#d1d219","#8ec73f","#00a650","#00aa9c","#00adef","#0081cd","#005bab"],autoColor:!1,fontWeight:100,fontScale:100,textShadow:!1,bind:!1,upperCase:!1},exports.default=StringAvatar;